# MOOSE Newsletter (September 2019)

## SQA Documentation

Completing documentation for NQA-1 has been a primary focus over the past month, if you are
interested in seeing the results of this labor please visit [sqa/index.md exact=True].

## MeshGenerators and MeshModifiers

The MeshModifiers have been officially deprecated. All of the existing MeshModifiers have equivalent
MeshGenerators that can be used to achieve the same behavior. Many applications are using modifiers so
this is a big impact. Everyone should be moving to the generator system in the next month or two so
that we can remove the old system. There will be additional enhancements that enable better restart
capabilities before the old MeshModifiers system is removed.

### New Mesh Syntax

We have streamlined the syntax for MeshGenerators. Rather than having separate top level blocks for
MeshModifiers, we are moving the generators to subblocks under the `[Mesh]` block. This makes sense
logically because you might use several generators to build up a mesh so there's little need for
a separate `[Mesh]` block. As a convenience you don't need to explicitly set the `MeshGeneratorMesh`
type when using the new syntax. If you have any generators at all, the mesh type is assumed to be
the `MeshGeneratorMesh` (e.g. the final mesh resulting from processing all of the generators).

Here's an example of how to use the new syntax to build up a mesh:

```
[Mesh]
  [file_reader]
    type = FileMeshGenerator
    file = twoblocks.e
  []

  [block_1]
    type = SideSetsAroundSubdomainGenerator
    input = file_reader # Establishes the dependency on the reader
    block = 'left'
    new_boundary = 'hull_1'
  []

  [block_2]
    type = SideSetsAroundSubdomainGenerator
    input = block_1 # dependency on the first sideset creator
    block = 'right'
    new_boundary = 'hull_2'
  []
[]
```

## Optionally Skip Exception Check

Exception check provides a great way to adapt solving schemes when physics evolutes into a challenging region.
However, checking exception under a parallel environment is quite expensive in terms of communication since each
exception check involves one global reduction. We therefore add a input-file option `skip_exception_check=false`
to allow users turn off the exception check if they are confident that their simulation will run smoothly
without any exception. Turning off the exception check most likely will speedup the simulation when using tens
of thousands of processor cores.

## SLEPc support

SLEPc is supported by default through a PETSc magic. That is to say, PETSc uses `--download-slepc` to download and
install SLEPc to the same place where PETSc lives. PETSc submodule and PETSc manual installation instructions have been
updated to honor this change. libMesh configuration is modified to take an attempt to pick up SLEPc from `PETSc_DIR`.
`SLEPC_DIR` is not mandatory any more in order to use SLEPc. Most of these changes are transparent for moose users.

## Jacobian Contribution on Element Face

The compute thread of Jacobian blocks is a critical capability for physics-based preconditioner and RattleSnake AMG update.
The face contributions for DG kernels were ignored before, and resulted in a wrong calculation when using DG kernels together
with AMG update. A new routine is added to support Jacobian calculations on element faces in `ComputeJacobianBlocksThread`
for DG kernels.

## New Non-AD Vector-Compatible Time Kernels

Hand-coded Jacobians are sometimes still needed when formulating vector-compatible time kernels.
Thus, `VectorTimeKernel` and `VectorTimeDerivative` are now available as alternatives to
`ADVectorTimeKernel` and `ADVectorTimeDerivative`. New methods - `coupledVectorDotDu` and
`coupledVectorDotDotDu` - have also been added to allow for coupled Jacobian entries in objects with
coupled time derivatives. Example usage of `coupledVectorDotDu` can be found in the new
`CoupledVectorTimeDerivative` kernel.
